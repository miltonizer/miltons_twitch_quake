////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                         Variables                                              //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

// Colors
set __white "&cfff"
set __default "&cfff"
set __green "&c0f0"
set __red "&cf00"
set __darkgreen "&c030"
set __darkred "&c300"
set __darkbrown "&c210"
set __darkpurple "&c409"

// Names
tp_name_sg              "{&c840sg&cfff}"
tp_name_ng				"{&c840ng&cfff}"
tp_name_ssg				"{&c840ssg&cfff}"
tp_name_sng				"{&c840sng&cfff}"
tp_name_gl              "{&c840gl&cfff}"
tp_name_rl				"{&cf25rl&cfff}"
tp_name_lg				"{&c399lg&cfff}"
tp_name_ga				"{&c0b0ga&cfff}"
tp_name_ya				"{&cff0ya&cfff}"
tp_name_ra				"{&cf00ra&cfff}"
tp_name_cells           "cells"
tp_name_rockets           "rockets"
tp_name_armor			"armor"
tp_name_armortype_ga	"g"
tp_name_armortype_ya	"y"
tp_name_armortype_ra	"r"
tp_name_quad			"{&c05fquad&cfff}"
tp_name_pent			"{&cf00pent&cfff}"
tp_name_ring			"{&cff0ring&cfff}"
tp_name_mh				"{&c0a0mega&cfff}"
tp_name_backpack		"{&cf39pack&cfff}"
tp_name_enemy			"{&cf00enemy&cfff}"
tp_name_quaded			"quaded"
tp_name_pented			"pented"
tp_name_eyes			"eyes"
tp_name_someplace		" "
tp_name_at				"at"
tp_name_separator		"$x20"

// Need
tp_need_weapon			"87"
tp_need_health			"50"
tp_need_ga				"50"
tp_need_ya				"70"
tp_need_ra				"70"
tp_need_shells			"0"
tp_need_nails			"0"
tp_need_cells			"0"

// Vars
set_tp msgc_need			"&cf66"
set_tp msgc_white 			"&cfff"
set_tp msgc_help			"&cff0"
set_tp msgc_lost			"&cf00"
set_tp msgc_safe			"&c0f0"
set_tp msgc_pack			"&cf39"
set_tp msgc_coming			"&cf60"

set_tp msg_space			"$x20"
set_tp msg_space3			"$x20$x20$x20"

set_tp msg_loc				"$[{%l}$]"
set_tp msg_colorloc			"$[%l$]"
set_tp msg_deathloc			$__darkred$[$msgc_lost%d$__darkred$]$msgc_lost
set_tp msg_pointloc			"$[{%y}$]"
set_tp msg_tookloc			"$[{%Y}$]"
set_tp msg_safeloc          $__darkgreen$[$msgc_safe%l$__darkgreen$]$msgc_safe
set_tp msg_comingloc        $__darkbrown$[$msgc_coming%l$__darkbrown$]$msgc_coming
set_tp msg_packloc          $__darkpurple$[$msgc_pack%d$__darkpurple$]$msgc_pack

set_tp msg_str_health		"%h"
set_tp msg_str_armor		"%A%a"
set_tp msg_str_weapon		""
set_tp msg_str_cells		""
set_tp msg_str_rockets		""
set_tp msg_str_rl			""
set_tp msg_str_lg			""

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                         Aliases                                                //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

alias __do_nothing          ""

alias __say_team			"if ($health < 1) then __dead %1 else __alive %1"

alias __dead				"if ('$matchtype' == '2on2') then .lost else if ('$weapon' == '$tp_name_lg') then .left_pack lg- else if ('$weapon' == '$tp_name_rl') then .left_pack rl- else .lost"
alias __alive				"if ('%1' isin 'report safe') then __check_gear_%1; wait; .%1"

alias __check_gear_report	"__set_weapon_string; __set_health_string; __set_armor_string"
alias __check_gear_safe		"__set_weapon_string"

alias __set_health_string "set_tp msg_str_health {$__white%h$__default}"

alias __set_armor_string "if ('$armortype' == 'g') then set_tp msg_str_armor {$msgc_safe%a$msgc_white} else if ('$armortype' == 'y') then set_tp msg_str_armor {$msgc_help%a$msgc_white} else if ('$armortype' == 'r') then set_tp msg_str_armor {$msgc_lost%a$msgc_white} else set_tp msg_str_armor {$msgc_white0$msgc_white}"

alias __set_weapon_string	"__reset msg_str_weapon; if ('$tp_name_rl' isin '$weapons' AND '$tp_name_lg' isin '$weapons') then __has_rlg else if ('$bestweapon' isin '$tp_name_rl') then __has_rl else if ('$bestweapon' isin '$tp_name_lg') then __has_lg else __has_shit"

alias __check_loot			"if ($cells > 10 AND '$powerups' = '') then __append msg_str_weapon $msg_spacec:$cells else if ('$bestweapon' = 'gl') then __append msg_str_weapon :$rockets"

alias __has_rlg "__has_rl; __append msg_str_weapon $msg_space; __has_lg"
alias __has_rl "set_tp msg_str_rl $tp_name_rl:$rockets; __append msg_str_weapon $msg_str_rl"
alias __has_lg "set_tp msg_str_lg $tp_name_lg:$cells; __append msg_str_weapon $msg_str_lg"

alias __has_shit			"set_tp msg_str_weapon $bestweapon; __check_loot"

alias __append				"set_tp %1 $%1%2"
alias __prepend				"set_tp %1 %2$%1"
alias __reset				"set_tp %1 $qt$qt"

alias __safe            	"__say_team safe"
alias __report          	"__say_team report"
alias __help	          	"__say_team help"
alias __coming				"__say_team coming"
alias __waiting				"__say_team waiting"
alias __replace				"__say_team replace"

alias __get_quad			"if ('$tp_name_quad' isin '$powerups') then __team_powerups 		else .get $tp_name_quad"
alias __get_ring			"if ('$tp_name_ring' isin '$powerups') then __team_powerups         else .get $tp_name_ring"
alias __get_pent			"if ('$tp_name_pent' isin '$powerups') then __team_powerups 		else .get $tp_name_pent"
alias __quad_over			"if ('$tp_name_quad' isin '$powerups') then __team_powerups 		else .quad_over"

alias __shownick			"if_exists alias shownick shownick __do_nothing"
alias __point	       		"__shownick; if ('$point' != '$tp_name_nothing' AND '$ledpoint' != '$G') then .point"
alias __need				"if ($health < 1) then __dead else if ('$need' = '$tp_name_nothing') then __report else .need"
alias __took            	"if ('$took' = '$tp_name_nothing' OR ('$powerups' != '' AND '$took' = '$tp_name_rockets') OR '$took' isin '$tp_name_ring $tp_name_pent $tp_name_quad') then __team_powerups else .took"
alias __you_take            "if $ledpoint = $G then .take %x else .take u"
alias __team_powerups		"if ('$powerups' = '') then __do_nothing else if ('$tp_name_ring' isin '$powerups') then .team_powerups_ring else if ( $health < 1 AND '$tp_name_quad' isin '$powerups' ) then .quad_over else .team_powerups"

alias __itemsoon			".item_soon"
alias __left_pack			".left_pack"
alias __enemy_powerups		".enemy_powerups"
alias __enemy_rl			".enemy_rl"
alias __enemy_rl_dead		".enemy_rl_dead"
alias __ask_for_status		".ask_for_status"
alias __lost				".lost"

// Additional aliases
alias lowhe         "say_team $\ $nick_colored low health enemy %d"
alias ga?           "say_team $\ $nick_colored {&c0f0ga&r} safe?"
alias ya?           "say_team $\ $nick_colored {&cff0ya&r} safe?"
alias ra?           "say_team $\ $nick_colored {&cf00ra&r} safe?"
alias replace       "say_team $\ $nick_colored replace %l"
alias shortcut      "say_team $\ $nick_colored shortcut"
alias youtake       "say_team $\ $nick_colored you take"
alias slipped       "say_team $\ $nick_colored $tp_name_enemy slipped $[{tele}$]"

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                         Output                                                 //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

alias .attack			   	"say_team $\ $R$R attack $msg_deathloc %E"
alias .coming           	"say_team $\ {$msgc_coming$nick_text coming $msg_comingloc$msgc_white} $powerups"
alias .enemy_powerups   	"say_team $\ $R$R $tp_name_enemy %q"
alias .enemy_at_pos         "say_team $\ $R$R enemy at $[{$msg_enemy_pos}$]"
alias .get          		"say_team $\ $nick_colored get %1 %2 %3"
alias .get_my          		"say_team $\ $nick_colored get my %1 $msg_loc"
alias .help             	"say_team $\{$msgc_help $nick_text help $msg_colorloc %E} $powerups"
alias .item_soon           	"say_team $\ $nick_colored item soon $msg_loc"
alias .lost             	"say_team $\{$msgc_lost $nick_text lost $msg_deathloc %E}"
alias .need					"say_team $\ $nick_colored need %u $msg_loc $powerups"
alias .left_pack			"say_team $\{$msgc_pack $nick_text %1pack left at $msg_packloc %E}"
alias .point            	"say_team $\ $nick_colored $x89$x89 %x at $msg_pointloc"
alias .quad_over        	"say_team $\ $nick_colored $tp_name_quad over"
alias .replace          	"say_team $\ $nick_colored replace $msg_loc $powerups"
alias .report				"say_team $\ $nick_colored $msg_str_armor{&c841/&cfff}$msg_str_health $msg_str_weapon $msg_loc $powerups"
alias .safe					"say_team $\{$msgc_safe $nick_text safe $msg_safeloc$msgc_white} $msg_str_weapon $powerups"
alias .ask_for_status		"say_team $\ $nick_colored report status! $powerups"
alias .take             	"say_team $\ $nick_colored %1 take $msg_loc"
alias .team_powerups    	"say_team $\ $nick_colored team %p"
alias .team_powerups_ring 	"say_team $\ $nick_colored $Y$R$G$B team %p"
alias .took	       			"say_team $\ $nick_colored took $took $msg_tookloc"
alias .trick            	"say_team $\ $nick_colored trick $msg_loc"
alias .waiting				"say_team $\ $nick_colored waiting at $msg_loc $powerups"
alias .kill_my_lg			"say_team $\ $nick_colored kill my $tp_name_lg $msg_loc"
alias .kill_my_rl			"say_team $\ $nick_colored kill my $tp_name_rl $msg_loc"

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                               T E A M P L A Y   C O M M A N D S                                //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

tp_pickup    powerups armor mh ssg sng gl rl lg pack rockets cells
tp_took      powerups armor mh ssg sng gl rl lg pack rockets cells 
tp_point     powerups armor players mh ssg sng gl rl lg sng pack rockets cells

filter       clear